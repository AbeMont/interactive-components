{"version":3,"sources":["components/scroll-spy/js/scroll-spy.js"],"names":["console","log","scrollSpy","document","querySelector","scrollSpySections","Array","from","querySelectorAll","scrollNav","text","title","firstElementChild","initialTitle","textContent","currentSection","window","addEventListener","style","transition","width","parseInt","pageYOffset","innerHeight","body","scrollHeight","children","classList","add","remove","forEach","section","index","array","dataset","spy","getBoundingClientRect","top","generateId","Id","Math","floor","random","generateEl","cb","ul","createElement","scrollList","appendChild","e","i","li","a","id","UlList","href","anchor","attributes","scrollEl"],"mappings":"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","file":"scroll-spy.js","sourcesContent":["console.log('Scroll Spy');\r\n\r\n/////////////////////////\r\n// Retrieve DOM Elements\r\n///////////////////////\r\n\r\n\r\n// Get scroll spy element as parent\r\nvar scrollSpy = document.querySelector('.scroll-spy');\r\n\r\n// Get our sections to target\r\nvar scrollSpySections = Array.from(document.querySelectorAll('[data-spy]'));\r\n\r\n// Get scroll nav Element\r\nvar scrollNav = document.querySelector('.scroll-nav');\r\n\r\n// Get the section h3 to use ae titles for Scroll Spy\r\nvar text = Array.from(document.querySelectorAll('.scroll-spy-section h3'));\r\n\r\n// Get Title from header to update\r\nvar title = document.querySelectorAll('.scroll-spy__title')[0].firstElementChild;\r\n\r\n// Get the original text from the header title\r\nvar initialTitle = document.querySelectorAll('.scroll-spy__title')[0].firstElementChild.textContent;\r\n\r\n// Current Section Scrolled\r\nvar currentSection;\r\n\r\n/////////////////////////\r\n// Scroll Event Listener\r\n//////////////////////\r\n\r\n// Event listener to scrollSpy\r\n  window.addEventListener('scroll', function(){\r\n\r\n    /////////////////////\r\n    // Scroll Spy Meter\r\n    ///////////////////\r\n\r\n    document.querySelector('.scroll-spy__meter').style.transition = 'width 0.3s';\r\n    document.querySelector('.scroll-spy__meter').style.width = parseInt(((window.pageYOffset + window.innerHeight)/document.body.scrollHeight)*100 )+'%';\r\n\r\n\r\n    if (window.pageYOffset === 0) {\r\n      document.querySelector('.scroll-spy__meter').style.width = '0%';\r\n    }\r\n\r\n\r\n    // Trigger the active fixed class\r\n    if(window.pageYOffset >= scrollSpy.children[0].scrollHeight){\r\n      scrollSpy.classList.add('active');\r\n    } else if (window.pageYOffset === 0) {\r\n      scrollSpy.classList.remove('active');\r\n    }\r\n    scrollSpySections.forEach(function(section,index,array){\r\n\r\n      currentSection = section.dataset.spy;\r\n\r\n       if(section.getBoundingClientRect().top < 56){\r\n\r\n          if(section.getBoundingClientRect().top > parseInt('-'+section.scrollHeight)+56){\r\n            title.textContent = currentSection;\r\n            scrollNav.children[0].children[index].children[0].classList.add('active')\r\n          } else {\r\n            scrollNav.children[0].children[index].children[0].classList.remove('active')\r\n          }\r\n\r\n       } else if (section.getBoundingClientRect().top >= 0) {\r\n           scrollNav.children[0].children[index].children[0].classList.remove('active')\r\n          }\r\n\r\n      if (array[0].getBoundingClientRect().top > 56) {\r\n        title.textContent = initialTitle;\r\n      }\r\n\r\n    });\r\n  });\r\n\r\n// Random ID Generator\r\n\r\nfunction generateId(){\r\n    var Id = 'b' + Math.floor(Math.random()*9999);\r\n    return Id;\r\n}\r\n\r\n// Generates the compnent 'scroll-nav' list that is fixed\r\nfunction generateEl(cb) {\r\n    var ul = document.createElement('ul');\r\n    var scrollList = scrollNav.appendChild(ul);\r\n    scrollList.classList.add('scroll-list');\r\n    scrollSpySections.forEach(function(e,i){\r\n      // For Each Iteration we must create the elements\r\n      var li = document.createElement('li');\r\n      var a = document.createElement('a');\r\n\r\n      e.id = cb();\r\n\r\n      var UlList = scrollList.appendChild(li).appendChild(a);\r\n      UlList.textContent = text[i].textContent;\r\n      UlList.href = \"#\" + e.id;\r\n      //console.log(UlList);\r\n  });\r\n\r\n};\r\n\r\ngenerateEl(generateId);\r\n\r\n///// Scrolling animations and functions\r\n\r\nconsole.log(Array.from(document.querySelectorAll('ul.scroll-list li a')));\r\nconsole.log(text);\r\n\r\nArray.from(document.querySelectorAll('ul.scroll-list li a')).forEach(function(anchor){\r\n  anchor.addEventListener('click', function(){\r\n    console.log(anchor);\r\n    console.log(anchor.attributes[0].textContent);\r\n    var scrollEl = document.querySelector(anchor.attributes[0].textContent);\r\n    console.log(scrollEl);\r\n  });\r\n});\r\n"]}