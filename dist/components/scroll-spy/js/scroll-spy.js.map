{"version":3,"sources":["components/scroll-spy/js/scroll-spy.js"],"names":["console","log","scrollSpy","document","querySelector","scrollSpySections","Array","from","querySelectorAll","scrollNav","text","title","firstElementChild","initialTitle","textContent","currentSection","window","addEventListener","style","transition","width","parseInt","pageYOffset","innerHeight","body","scrollHeight","children","classList","add","remove","forEach","section","index","array","scrollNavText","dataset","spy","getBoundingClientRect","top","generateId","Id","Math","floor","random","generateEl","cb","ul","createElement","scrollList","appendChild","e","i","li","a","id","UlList","href"],"mappings":"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","file":"scroll-spy.js","sourcesContent":["console.log('Scroll Spy');\n\n/////////////////////////\n// Retrieve DOM Elements\n///////////////////////\n\n\n// Get scroll spy element as parent\nvar scrollSpy = document.querySelector('.scroll-spy');\n\n// Get our sections to target\nvar scrollSpySections = Array.from(document.querySelectorAll('[data-spy]'));\n\n// Get scroll nav Element\nvar scrollNav = document.querySelector('.scroll-nav');\n\n// Get the section h3 to use ae titles for Scroll Spy\nvar text = Array.from(document.querySelectorAll('.scroll-spy-section h3'));\n\n// Get Title from header to update\nvar title = document.querySelectorAll('.scroll-spy__title')[0].firstElementChild;\n\n// Get the original text from the header title\nvar initialTitle = document.querySelectorAll('.scroll-spy__title')[0].firstElementChild.textContent;\n\n// Current Section Scrolled\nvar currentSection;\n\n/////////////////////////\n// Scroll Event Listener\n//////////////////////\n\n// Event listener to scrollSpy\n  window.addEventListener('scroll', function(){\n\n    //document.querySelector('.page__meter').style.width = '0%';\n    document.querySelector('.scroll-spy__meter').style.transition = 'width 0.3s';\n    document.querySelector('.scroll-spy__meter').style.width = parseInt(((window.pageYOffset + window.innerHeight)/document.body.scrollHeight)*100 )+'%';\n\n\n    if (window.pageYOffset === 0) {\n      document.querySelector('.scroll-spy__meter').style.width = '0%';\n    }\n\n\n    // Trigger the active fixed class\n    if(window.pageYOffset >= scrollSpy.children[0].scrollHeight){\n      scrollSpy.classList.add('active');\n    } else if (window.pageYOffset === 0) {\n      scrollSpy.classList.remove('active');\n    }\n    scrollSpySections.forEach(function(section,index,array){\n      var scrollNavText = scrollNav.children[0].children[index].children[0].textContent;\n\n      currentSection = section.dataset.spy;\n\n       if(section.getBoundingClientRect().top < 56){\n\n          if(section.getBoundingClientRect().top > parseInt('-'+section.scrollHeight)+56){\n            title.textContent = currentSection;\n            scrollNav.children[0].children[index].children[0].classList.add('active')\n          } else {\n            scrollNav.children[0].children[index].children[0].classList.remove('active')\n          }\n\n          //console.log(section, section.getBoundingClientRect().top , parseInt('-'+section.scrollHeight));\n\n       } else if (section.getBoundingClientRect().top >= 0) {\n           scrollNav.children[0].children[index].children[0].classList.remove('active')\n          }\n\n      if (array[0].getBoundingClientRect().top > 56) {\n        title.textContent = initialTitle;\n\n      }\n\n    });\n  });\n\n// Random ID Generator\n\nfunction generateId(){\n    var Id = Math.floor(Math.random()*9999);\n    return Id;\n}\n\n//generateId();\n\nfunction generateEl(cb) {\n    var ul = document.createElement('ul');\n    var scrollList = scrollNav.appendChild(ul);\n    scrollList.classList.add('scroll-list');\n    scrollSpySections.forEach(function(e,i){\n      // For Each Iteration we must create the elements\n      var li = document.createElement('li');\n      var a = document.createElement('a');\n\n      e.id = cb();\n\n      var UlList = scrollList.appendChild(li).appendChild(a);\n      UlList.textContent = text[i].textContent;\n      UlList.href = \"#\" + e.id;\n      //console.log(UlList);\n  });\n\n};\n\ngenerateEl(generateId);\n"]}